<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>College Resource Management Register - TSDC</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Playfair+Display:wght@700&amp;display=swap" rel="stylesheet"/>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#0c3d91",
                        accent: "#f48220",
                        gold: "#d4af37",
                        "background-light": "#f3f4f6",
                        "background-dark": "#111827",
                    },
                    fontFamily: {
                        display: ["Playfair Display", "serif"],
                        sans: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                    },
                },
            },
        };
    </script>
<style>
        .college-gradient { background: linear-gradient(135deg, #0c3d91 0%, #1e4ea1 100%); }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-slate-100 min-h-screen transition-colors duration-200">
<header class="header-gradient text-white shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center p-1">
          <span class="material-icons-outlined text-primary text-3xl">school</span>
        </div>
        <div>
          <h1 class="text-xl font-bold tracking-tight">TSDC</h1>
          <p class="text-[10px] uppercase tracking-widest opacity-80 leading-none">Thakur Shyamnarayan Degree College</p>
        </div>
      </div>
      <nav class="hidden lg:flex items-center space-x-6">
        <a class="flex items-center gap-1 hover:opacity-80 transition-opacity" href="#"><span class="material-icons-outlined text-sm">dashboard</span><span class="text-sm font-medium">Dashboard</span></a>
        <a class="flex items-center gap-1 hover:opacity-80 transition-opacity text-slate-300" href="#"><span class="material-icons-outlined text-sm">schedule</span><span class="text-sm font-medium">Timetable</span></a>
        <a class="flex items-center gap-1 hover:opacity-80 transition-opacity text-slate-300" href="#"><span class="material-icons-outlined text-sm">meeting_room</span><span class="text-sm font-medium">Rooms</span></a>
      </nav>
      <div class="flex items-center gap-4">
        <button class="bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full flex items-center gap-2 transition-all"><span class="material-icons-outlined text-sm">person</span><span class="text-sm font-semibold">Profile</span></button>
        <button class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20"><span class="material-icons-outlined text-xl">settings</span></button>
      </div>
    </div>
  </div>
</header>

<main class="py-12 px-4 flex justify-center items-start">
<div class="w-full max-w-4xl">
<div class="bg-white dark:bg-slate-900 shadow-2xl rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800">
<div class="p-8 md:p-12">
<div class="text-center mb-10">
<h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Resource Management System</h2>
<p class="text-slate-500 dark:text-slate-400">Register your account to access college digital resources</p>
</div>
<form id="registerForm" class="space-y-8" novalidate>
<div>
<div class="flex items-center gap-2 mb-6 border-b border-slate-100 dark:border-slate-800 pb-2">
<span class="material-icons text-primary">person</span>
<h3 class="text-lg font-semibold text-slate-800 dark:text-slate-200">Personal Information</h3>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Full Name (as per ID)</label>
<input id="fullName" name="fullName" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="John Doe" type="text" required/>
</div>
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Student/Staff ID</label>
<input id="memberId" name="memberId" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="TSDC-2024-001" type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Date of Birth</label>
<input id="dob" name="dob" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" type="date"/>
</div>
<div class="grid grid-cols-2 gap-4">
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Role</label>
<select id="role" name="role" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all">
<option>Student</option>
<option>Faculty</option>
<option>Admin</option>
<option>Library Staff</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Department</label>
<select id="department" name="department" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all">
<option>IT &amp; CS</option>
<option>B.Com</option>
<option>BMM</option>
<option>BMS</option>
<option>Management</option>
</select>
</div>
</div>
</div>
</div>
<div>
<div class="flex items-center gap-2 mb-6 border-b border-slate-100 dark:border-slate-800 pb-2">
<span class="material-icons text-primary">contact_mail</span>
<h3 class="text-lg font-semibold text-slate-800 dark:text-slate-200">Contact Details</h3>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">College Email Address</label>
<input id="email" name="email" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="john.doe@tsdc.in" type="email" required/>
</div>
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Phone Number</label>
<div class="relative">
<span class="absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400 text-sm">+91</span>
<input id="phone" name="phone" class="w-full pl-12 rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="9876543210" type="tel"/>
</div>
</div>
</div>
</div>
<div>
<div class="flex items-center gap-2 mb-6 border-b border-slate-100 dark:border-slate-800 pb-2">
<span class="material-icons text-primary">security</span>
<h3 class="text-lg font-semibold text-slate-800 dark:text-slate-200">Account Security</h3>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Create Password</label>
<input id="password" name="password" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="••••••••" type="password" required/>
<p class="text-[11px] text-slate-500 mt-1 italic">Min. 8 characters with a mix of letters and symbols</p>
</div>
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Confirm Password</label>
<input id="confirmPassword" name="confirmPassword" class="w-full rounded-md border-slate-300 dark:border-slate-700 dark:bg-slate-800 dark:text-white focus:ring-primary focus:border-primary transition-all" placeholder="••••••••" type="password" required/>
</div>
</div>
</div>
<div class="pt-4">
<label class="flex items-start gap-3 cursor-pointer">
<input id="agree" class="mt-1 rounded border-slate-300 text-primary focus:ring-primary" type="checkbox"/>
<span class="text-sm text-slate-600 dark:text-slate-400">
                                    I agree to the <a class="text-primary hover:underline font-medium" href="#">Terms of Use</a> and <a class="text-primary hover:underline font-medium" href="#">Privacy Policy</a> governing Thakur Shyamnarayan Degree College resources.
                                </span>
</label>
</div>
<div class="pt-6 flex flex-col md:flex-row items-center justify-between gap-6">
<div class="text-sm text-slate-600 dark:text-slate-400">
                                Already have an account? <a id="signinLink" class="text-primary hover:underline font-bold" href="#">Sign In here</a>
</div>
<button id="submitBtn" class="w-full md:w-auto bg-primary hover:bg-blue-800 text-white font-bold py-3 px-10 rounded-lg shadow-lg hover:shadow-xl transform active:scale-95 transition-all" type="submit">
                                Register Account
                            </button>
</div>
</form>
</div>
</div>
<footer class="mt-8 text-center space-y-4">
<div class="flex flex-wrap justify-center gap-6 items-center">
<div class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 rounded-full shadow-sm border border-slate-100 dark:border-slate-700">
<span class="material-icons text-gold text-sm">verified</span>
<span class="text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-tighter">NAAC Accredited Grade 'A'</span>
</div>
<div class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 rounded-full shadow-sm border border-slate-100 dark:border-slate-700">
<span class="material-icons text-primary text-sm">check_circle</span>
<span class="text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-tighter">ISO 9001:2015 Certified</span>
</div>
</div>
<p class="text-xs text-slate-400 dark:text-slate-500">
                    © 2024 Thakur Shyamnarayan Degree College. Managed by IT Department. Institute Code: 1019.
                </p>
</footer>
</div>
</main>
<div class="fixed bottom-6 right-6">
<button class="bg-accent hover:bg-orange-600 text-white p-4 rounded-full shadow-xl flex items-center justify-center transition-all group">
<span class="material-icons">help_outline</span>
<span class="max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 group-hover:ml-2 whitespace-nowrap text-sm font-medium">IT Support</span>
</button>
</div>

<script>
/* Registration logic: validates inputs, stores user in localStorage under same keys used by the app, then redirects to index.html */
(function(){
  const RM_USERS_KEY = 'rm_users_v1';
  const RM_CURRENT_USER = 'rm_current_user_v1';
  const form = document.getElementById('registerForm');
  const signinLink = document.getElementById('signinLink');

  signinLink.setAttribute('href','login.html');

  function getUsers(){ try{ return JSON.parse(localStorage.getItem(RM_USERS_KEY))||[] }catch(e){return[]} }
  function saveUsers(u){ localStorage.setItem(RM_USERS_KEY, JSON.stringify(u||[])) }
  function setCurrentUser(email){ localStorage.setItem(RM_CURRENT_USER, email||'') }

  function showError(msg){
    let el = document.getElementById('formError');
    if(!el){ el = document.createElement('div'); el.id = 'formError'; el.setAttribute('role','status'); el.className = 'mt-4 text-sm text-red-600 dark:text-red-400'; form.prepend(el); }
    el.textContent = msg || '';
    if(msg) el.scrollIntoView({behavior:'smooth',block:'center'});
  }

  function validatePassword(p){ return p && p.length>=8 && /[A-Za-z]/.test(p) && /[^A-Za-z0-9]/.test(p); }
  function normalizeEmail(e){ return (e||'').trim().toLowerCase(); }

  form.addEventListener('submit', function(evt){
    evt.preventDefault();
    showError('');

    const fullName = document.getElementById('fullName').value.trim();
    const memberId = document.getElementById('memberId').value.trim();
    const dob = document.getElementById('dob').value;
    const role = document.getElementById('role').value;
    const department = document.getElementById('department').value;
    const email = normalizeEmail(document.getElementById('email').value);
    const phone = document.getElementById('phone').value.replace(/\D/g,'');
    const password = document.getElementById('password').value;
    const confirm = document.getElementById('confirmPassword').value;
    const agree = document.getElementById('agree').checked;

    if(!fullName) return showError('Full name is required.');
    if(!email) return showError('College email is required.');
    if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) return showError('Enter a valid email address.');
    if(!password) return showError('Please create a password.');
    if(!validatePassword(password)) return showError('Password must be at least 8 characters and include a symbol.');
    if(password !== confirm) return showError('Passwords do not match.');
    if(!agree) return showError('You must accept the Terms of Use and Privacy Policy.');

    const users = getUsers();
    if(users.find(u=>u.email===email)) return showError('An account with that email already exists.');

    const user = {
      name: fullName,
      email,
      password,
      role,
      department,
      phone: phone || '',
      studentId: memberId || '',
      dob: dob || '',
      departmentDisplay: department,
      // fields used by the main app
      office: '', hours: '', specialization: '', courses: '', notifications: 'all', theme: 'light', timezone: '', language: 'English'
    };

    users.push(user);
    saveUsers(users);
    setCurrentUser(email);

    // show quick success then redirect
    const success = document.createElement('div');
    success.className = 'mt-4 inline-block bg-emerald-50 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-200 px-4 py-2 rounded-md text-sm';
    success.textContent = 'Account created — redirecting to dashboard...';
    form.appendChild(success);

    setTimeout(()=> location.href = 'index.html#profile', 700);
  });

  // allow Enter to submit when focused
  form.addEventListener('keydown', (e)=>{ if(e.key==='Enter') form.requestSubmit(); });
})();
</script>
</body>
</html>